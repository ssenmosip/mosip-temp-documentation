

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="java" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="java" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Vendor Device Manager - Specification &mdash; MOSIP 0.9 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="index.html" class="icon icon-home"> MOSIP
          

          
            
            <img src="_static/mosip-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Architecture.html">MOSIP Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Architecture.html#architectural-principles">Architectural Principles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Architecture.html#ecosystem-approach">Ecosystem approach</a></li>
<li class="toctree-l3"><a class="reference internal" href="Architecture.html#configurability">Configurability</a></li>
<li class="toctree-l3"><a class="reference internal" href="Architecture.html#extensibility">Extensibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="Architecture.html#modularity">Modularity</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Architecture.html#logical-architecture">Logical Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="Architecture.html#data-architecture">Data Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Architecture.html#open-source-and-vendor-neutral">Open Source and Vendor Neutral</a></li>
<li class="toctree-l3"><a class="reference internal" href="Architecture.html#multi-language">Multi-Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="Architecture.html#high-performance">High Performance</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Technology-Stack.html">Technology Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="MOSIP-Releases.html">Latest Release</a></li>
<li class="toctree-l1"><a class="reference internal" href="Roadmap.html">July 2019 to June 2020</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MOSIP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li><strong>Vendor Device Manager - Specification</strong></li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/MOSIP-VDM-Specifications.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="vendor-device-manager-specification">
<h1><strong>Vendor Device Manager - Specification</strong><a class="headerlink" href="#vendor-device-manager-specification" title="Permalink to this headline">¶</a></h1>
<p>This document provides the detail of VDM technical specification to be adhere by the vendor to adopt their devices to the MOSIP platform
to capture the biometric data and manipulate on the same.</p>
<p><img alt="VDM Spec view" src="_images/vdm-spec-design.png" /></p>
<ul class="simple">
<li><p>Following points has been considered while designing the VDM spec:</p>
<ul>
<li><p>Vendor should follow this MOSIP specification standards and provide the device along with the VDM service to integrate from application.</p></li>
<li><p>Any changes in the device state should notify the application.</p></li>
<li><p>VDM upgrade or new vendor devices added shouldn't impact the application code.</p></li>
<li><p>VDM should be provided along with the GUI to register and manage the running devices port .</p></li>
<li><p>Any security related to the device can be implemented at single stage rather doing at application end.</p></li>
<li><p>VDM should have capabilities to integrate with multiple devices like : Finger Print, IRIS and Face Reader.</p></li>
<li><p>No vendor specific code will be written inside the application.</p></li>
<li><p>All communication should happen through TCP/IP sockets to isolate the application from devices.</p></li>
<li><p>The software from each vendor will be executed as separate process and that won't impact the application.</p></li>
<li><p>VDM should be accessible from different platform and environment (Java, .Net).</p></li>
<li><p>The communication between the services should happen by exchanging XML messages.</p></li>
</ul>
</li>
<li><p>VDM - The Vendor Device Manager, provided by the device vendor, which manages the device,
and allows for biometric data capture.</p></li>
<li><p>DM  - The vendor independent Device Manager, which orchestrates the discovery, of the VDMs by the application,
and manages connectivity to the VDM.</p></li>
<li><p>Application - The Application that needs to use the biometric devices for capture.</p></li>
</ul>
<div class="section" id="vendor-device-manager-vdm">
<h2>1. Vendor Device Manager - VDM<a class="headerlink" href="#vendor-device-manager-vdm" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>The <strong>vendor must provide this</strong> as installer (and Uninstaller) to install and configure the VDM specific
to the requirement. During initial setup the required configuration to be completed using the respective GUI.</p>
<ul class="simple">
<li><p>The DM port should be configured during initial setup of VDM.</p></li>
<li><p>Once the VDM has been started then communicate with the DM through TCP socket and port
and register the VDM listening port.</p></li>
<li><p>VDM uses the DM Connect api to check the connectivity.</p></li>
<li><p>If VDM failed to connect to a particular port of DM then admin can modify the port using the respective GUI.</p></li>
<li><p>If VDM success to connect then continue with the Device Arrival api.</p></li>
</ul>
<p>The communication with the VDM happens through the TCP socket and port from application.
The VDM should listen to a particular port to send and receive the command from application.
There is a separate socket should be opened to receive the Video streams and Biometric samples.</p>
<p>It provides following functionality, which will be triggered from the application based on the user actions.</p>
<ol class="simple">
<li><p>Subscribe</p></li>
<li><p>Un-subscribe</p></li>
<li><p>Start Capture</p></li>
<li><p>Stop Capture</p></li>
<li><p>Force Capture</p></li>
<li><p>Get Frame</p></li>
<li><p>Get Sample</p></li>
</ol>
<p>The following notifications are provided by the VDM to the application when the respective operations are completed.</p>
<ol class="simple">
<li><p>Capture Complete</p></li>
<li><p>Detection</p></li>
<li><p>User Actionable Feedback</p></li>
</ol>
<p>There is an additional configuration utility expected to provided by the vendor to provide GUI
that will help the users to manage the device with the following operations:</p>
<ol class="simple">
<li><p>Configuration, including port number override</p></li>
<li><p>Device Self Test</p></li>
<li><p>Device Reset / Reinitialization</p></li>
<li><p>Device Calibration</p></li>
<li><p>Device Startup</p></li>
<li><p>Device Shutdown</p></li>
</ol>
<p><strong>VDM process</strong></p>
<ol class="simple">
<li><p>VDM senses that a device under it's control is connected to the system.</p></li>
<li><p>VDM creates a Device Arrival / Removal event and sends it to the DM through socket and port.</p></li>
<li><p>The event contains information about the device, and it's capabilities.</p></li>
<li><p>It also accepts the request from application through the port and communicate with the device through the respective driver.</p></li>
<li><p>Send response back to the application based on the request.</p></li>
</ol>
<p><strong>VDM opens the below set of communication URI for each devices.</strong><br />deviceURI =&quot;localhost:1234&quot; - Receive and send the communication command with application through this port.<br />videoURI  =&quot;localhost:1235&quot;  - Live Video Stream of the bio-metric data transferred through this port to application.<br />sampleURI =&quot;localhost:1236&quot; - Captured bio-metric data rendered through this port to application.</p>
</div>
<div class="section" id="device-manager-dm">
<h2>2. Device Manager - DM<a class="headerlink" href="#device-manager-dm" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>The <strong>DM provided by MOSIP</strong> is responsible for managing the list of all connected applications, VDMs, and
devices. Whenever a device arrives, it must register with the DM, and continue to send
a heartbeat event at regular intervals. Failure to send the heartbeat is treated as a
removal event. The DM sends a list of all connected devices to the application after the
initial connection, by forwarding stored Arrival events.</p>
<p>Multiple devices can be communicate with the DM and register with the respective available port for communication.</p>
<ul class="simple">
<li><p>The DM service should Listen on a particular range of port to receive the device arrival and removal events from the VDM.</p></li>
<li><p>In case the provided ports are busy or occupied by some other service then should provide facility for an admin to modify the same.</p></li>
<li><p>It Maintain the list of the all the supported biometric devices available for the applications.</p></li>
<li><p>It also Notify the applications about arrival and removal of the supported devices (Plug and Play - PNP).</p></li>
</ul>
<p>The DM service will be provided by the MOSIP. The DM responds to the following requests:</p>
<ol class="simple">
<li><p>Connect        - VDM and application uses this api to initiate communication with DM.</p></li>
<li><p>Device Arrival - VDM uses this api to inform the DM whenever the PNP device connected.</p></li>
<li><p>Device Removal - VDM uses this api to inform the DM whenever the PNP device disconnected.</p></li>
<li><p>Ping           - This is used as a heartbeat event, to notify the DM that a VDM, is still alive.</p></li>
</ol>
<p>The DM provides applications with the following events.</p>
<ol class="simple">
<li><p>Device Arrival</p></li>
<li><p>Device Removal</p></li>
</ol>
<p>The DM listens on a TCP/IP port (specified later in this document). Applications and the
VDMs must connect to this port once, and communicate over this open connection.</p>
</div>
<div class="section" id="application">
<h2>3. Application<a class="headerlink" href="#application" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>When the application needs to work with the device, it opens the socket to the location
pointed by the deviceURI in the Arrival event from the Device Manager. Only one application can open the device. The
device should reject the connections on the deviceURI, until the socket is closed.</p>
<p><strong>Application communicate with a particular device through the following URI.</strong><br />deviceURI =&quot;localhost:1234&quot;<br />videoURI  =&quot;localhost:1235&quot;<br />sampleURI =&quot;localhost:1236&quot;</p>
</div>
<div class="section" id="api-usage-workflows-and-examples">
<h2>4. API Usage Workflows and Examples<a class="headerlink" href="#api-usage-workflows-and-examples" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>This section will guide the user to understand about the Device discovery and bio-metric capturing workflow
process using the API methods.</p>
<p><strong>Service(s) Startup Sequence :</strong></p>
<p>When DM and VDM Startup:</p>
<p><img alt="Service Startup Sequence process" src="_images/vdm-spec-device-discovery-sequence.png" /></p>
<p>When application Startup:<br />It is similar to VDM startup except the strategy of handling failure case.</p>
<p><strong>Device Management (Arrival and Removal):</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">1.</span> <span class="n">When</span> <span class="n">the</span> <span class="n">VDM</span> <span class="n">senses</span> <span class="n">that</span> <span class="n">a</span> <span class="n">device</span> <span class="n">under</span> <span class="n">it</span><span class="s1">&#39;s control is connected to the system, it </span>
   <span class="n">creates</span> <span class="n">a</span> <span class="n">Device</span> <span class="n">Arrival</span> <span class="n">event</span> <span class="ow">and</span> <span class="n">sends</span> <span class="n">it</span> <span class="n">to</span> <span class="n">the</span> <span class="n">DM</span>
<span class="mf">2.</span> <span class="n">The</span> <span class="n">DM</span> <span class="n">must</span> <span class="n">acknowledge</span> <span class="n">the</span> <span class="n">receipt</span> <span class="n">of</span> <span class="n">this</span> <span class="n">event</span><span class="p">,</span> <span class="n">forward</span> <span class="n">it</span> <span class="n">to</span> <span class="nb">all</span> <span class="n">applications</span><span class="p">,</span> <span class="ow">and</span> 
   <span class="n">maintain</span> <span class="n">a</span> <span class="n">copy</span> <span class="n">of</span> <span class="n">this</span> <span class="n">event</span> <span class="p">(</span><span class="k">for</span> <span class="nb">all</span> <span class="n">applications</span> <span class="n">that</span> <span class="n">may</span> <span class="n">connect</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">future</span><span class="p">)</span><span class="o">.</span> 
<span class="mf">3.</span> <span class="n">Application</span> <span class="n">further</span> <span class="n">uses</span> <span class="n">this</span> <span class="n">port</span> <span class="n">number</span> <span class="n">to</span> <span class="n">communicate</span> <span class="k">with</span> <span class="n">the</span> <span class="n">VDM</span> <span class="n">service</span><span class="o">.</span> 
<span class="mf">4.</span> <span class="n">VDM</span> <span class="n">further</span> <span class="n">communicates</span> <span class="k">with</span> <span class="n">the</span> <span class="n">Device</span> <span class="n">through</span> <span class="n">the</span> <span class="n">respective</span> <span class="n">driver</span><span class="o">.</span>    
</pre></div>
</div>
<p><img alt="Arrival and Removal Sequence process" src="_images/vdm-spec-device-manage-sequence.png" /></p>
<p><strong>Bio-Metric Capture Sequence:</strong></p>
<p>The biometric data captured cane be done in 2 ways. Auto capture and Force Capture .</p>
<p><strong>Auto Capture :</strong></p>
<p>The Application subscribes to various events from the device, which allow it to provide
a useful interface to the user. The application then sends a <strong>StartCapture</strong> event to the
device, which provides a video stream, and subscribes the application to the
CaptureComplete event.
The application is expected (not required) to consume the video stream one frame at a
time by sending GetFrame requests. Multiple GetFrame requests can be queued, and
the device will respond to each request with a frame. Once capture is completed, the
device sends a capture complete message to the application. The application must then
use a GetSample request to get the biometric sample.</p>
<p><strong>Force Capture :</strong><br />If the device supports forced capture, the application may send a ForceCapture event to
the device. The device must respond with a CaptureComplete event. Following this, the
application must get the sample through a GetSample request.</p>
<p><img alt="Bio Capture Sequence process" src="_images/vdm-spec-device-capture-sequence.png" /></p>
</div>
<div class="section" id="api-methods">
<h2>5. API Methods<a class="headerlink" href="#api-methods" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>There will be two types of API methods: commands and notification events. The
command API methods are initiated by the Application, while the event API methods are
initiated by the Biometric Capture Device.</p>
<ul class="simple">
<li><p>This specifies the request and response messages that are exchanged between
the Application, DM and VDM. All messages are in XML.</p></li>
<li><p>All requests and responses carry a requestId, which is a numeric value (128 bit),
represented as a 36 character UUID format string in XML. Since the API is asynchronous,
the requestId is used to connect requests with the appropriate response.</p></li>
<li><p>The VDM, DM and Application must not use requestId outside the scope of a request,
since this could be recycled.</p></li>
</ul>
<p>Video stream from the Biometric Capture Device will be delivered using the binary
protocol over a separate channel. The final captured biometric samples will also be
delivered using the binary protocol through a separate channel. The request and
response messages for both video stream and biometric samples will be encoded using
ASN1 BER. See <a class="reference external" href="//en.wikipedia.org/wiki/Asn1"><strong>link</strong></a></p>
<p><strong>API Version Number :</strong></p>
<p>The version number for the current API is 1.0. The version number is included in every
API message.</p>
<p><strong>Connect :</strong>
On establishing connection with the DM, the application, and VDMs must ensure that
they are connecting with a DM, and exchange certain configuration information.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">From</span><span class="p">:</span> <span class="n">Application</span><span class="p">,</span> <span class="n">VDM</span>
<span class="n">To</span><span class="p">:</span> <span class="n">DM</span>
<span class="n">When</span><span class="p">:</span> <span class="n">At</span> <span class="n">required</span> <span class="n">time</span> <span class="n">can</span> <span class="n">establish</span> <span class="n">connection</span> <span class="k">with</span> <span class="n">DM</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">DeviceManagerEventRequest</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">version</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">Connect</span> <span class="n">apiVersion</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
		<span class="o">&lt;</span><span class="n">VDM</span> <span class="n">vendor</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">vdmName</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">vdmVersion</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">/&gt;</span>
		<span class="o">&lt;</span><span class="n">APP</span> <span class="n">vendor</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">appName</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">appVersion</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">/&gt;</span>
	<span class="o">&lt;/</span><span class="n">Connect</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceManagerEventRequest</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">DeviceManagerEventResponse</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">Return</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">/&gt;</span>
	<span class="o">&lt;</span><span class="n">ConnectResponse</span> <span class="n">apiVersion</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">vendor</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">dmName</span><span class="o">=</span><span class="s2">&quot;&quot;</span>
	<span class="n">dmVersion</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">heartBeat</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceManagerEventResponse</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>In addition to exchanging the names of the vendors, version numbers of the API, and the
software, the DM responds with a heartbeat value, which is the maximum requested
time between pings (specified in seconds). Applications must provide a <APP> element,
while VDMs must provide a <VDM> element .</p>
<p><strong>Ping :</strong>
This is used as a heartbeat event, to notify the DM that a VDM, is still alive.</p>
<p>From: VDM
To: DM
When: To notify DM that a VDM is still alive.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">DeviceManagerEventRequest</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">Ping</span> <span class="n">vdmName</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceManagerEventRequest</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">DeviceManagerEventResponse</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">Return</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">failureReason</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceManagerEventResponse</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The only failure condition is if the device was previously removed, or never registered.</p>
<p><strong>Device Arrival :</strong></p>
<p>The Device Arrival event should be sent from VDM to DM after the device component starts listening for
the connections on the socket addressed by the deviceURI.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">From</span><span class="p">:</span> <span class="n">VDM</span><span class="o">.</span>
<span class="n">To</span><span class="p">:</span> <span class="n">DM</span><span class="o">.</span>
<span class="n">When</span><span class="p">:</span> <span class="n">The</span> <span class="n">event</span> <span class="n">notifies</span> <span class="n">the</span> <span class="n">DM</span><span class="p">,</span> <span class="ow">and</span> <span class="n">that</span> <span class="ow">in</span> <span class="n">turn</span> <span class="n">forwards</span> <span class="n">it</span> <span class="n">to</span> <span class="n">the</span> 
<span class="n">application</span> <span class="n">about</span> <span class="n">a</span> <span class="n">device</span> <span class="n">arrival</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">DeviceManagerEventRequest</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">Arrival</span> <span class="n">vdmName</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">deviceURI</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">modality</span><span class="o">=</span><span class="s2">&quot;Fingerprint Slap &quot;</span>
		<span class="n">deviceMake</span><span class="o">=</span><span class="s2">&quot;Manufacturer Name &quot;</span> <span class="n">deviceModel</span><span class="o">=</span><span class="s2">&quot;DEVICE MODEL NAME /</span>
		<span class="n">IDENTIFIER</span> <span class="s2">&quot; hardwareRev=&quot;</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">0</span><span class="s2">&quot; firmwareRev=&quot;</span><span class="mf">1.0</span><span class="o">.</span><span class="mi">1</span><span class="s2">&quot;</span>
		<span class="n">serialNumber</span><span class="o">=</span><span class="s2">&quot;ABC1234567&quot;</span><span class="o">&gt;</span>
		<span class="o">&lt;</span><span class="n">Capabilities</span> <span class="n">detection</span><span class="o">=</span><span class="s2">&quot;True&quot;</span> <span class="n">video</span><span class="o">=</span><span class="s2">&quot;True&quot;</span>
			<span class="n">autoCapture</span><span class="o">=</span><span class="s2">&quot;True&quot;</span> <span class="n">disableAutoCapture</span><span class="o">=</span><span class="s2">&quot;True&quot;</span> <span class="n">userFeedback</span><span class="o">=</span><span class="s2">&quot;True&quot;</span>
			<span class="n">graphicalFeedback</span><span class="o">=</span><span class="s2">&quot;False&quot;</span><span class="o">&gt;</span>
			<span class="o">&lt;</span><span class="n">VideoFormats</span><span class="o">&gt;</span>
				<span class="o">&lt;</span><span class="n">VideoFormat</span> <span class="n">videoFormatId</span><span class="o">=</span><span class="s2">&quot;1&quot;</span> <span class="n">modality</span><span class="o">=</span><span class="s2">&quot;Fingerprint</span>
					<span class="n">Slap</span> <span class="s2">&quot;&gt;</span>
					<span class="o">&lt;</span><span class="n">FrameType</span> <span class="n">biometricPosition</span><span class="o">=</span><span class="s2">&quot;Any&quot;</span> <span class="n">size</span><span class="o">=</span><span class="s2">&quot;800,750&quot;</span>
						<span class="n">pixelFormat</span><span class="o">=</span><span class="s2">&quot;Gray8&quot;</span> <span class="n">pixelResolution</span><span class="o">=</span><span class="s2">&quot;250ppi&quot;</span> <span class="o">/&gt;</span>
				<span class="o">&lt;/</span><span class="n">VideoFormat</span><span class="o">&gt;</span>
			<span class="o">&lt;/</span><span class="n">VideoFormats</span><span class="o">&gt;</span>
			<span class="o">&lt;</span><span class="n">SampleFormats</span><span class="o">&gt;</span>
				<span class="o">&lt;</span><span class="n">SampleFormat</span> <span class="n">formatId</span><span class="o">=</span><span class="s2">&quot;1&quot;</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;ISO IEC 1 views=&quot;</span><span class="mi">1</span><span class="s2">&quot;</span>
					<span class="n">size</span><span class="o">=</span><span class="s2">&quot;1600,1500&quot;</span> <span class="n">pixelResolution</span><span class="o">=</span><span class="s2">&quot;500ppi&quot;</span> <span class="o">/&gt;</span>
			<span class="o">&lt;/</span><span class="n">SampleFormats</span><span class="o">&gt;</span>
		<span class="o">&lt;/</span><span class="n">Capabilities</span><span class="o">&gt;</span>
	<span class="o">&lt;/</span><span class="n">Arrival</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceManagerEventRequest</span><span class="o">&gt;</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">DeviceManagerEventResponse</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">Return</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;1&quot;</span> <span class="n">failureReason</span><span class="o">=</span><span class="s2">&quot;0&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceManagerEventResponse</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Device Removal :</strong></p>
<p>The event notifies the device manager, and the application about a device removal. The
VDM originates this event, and sends it to the DM, which in turn forwards it to the
Application.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">From</span><span class="p">:</span> <span class="n">VDM</span> <span class="n">service</span><span class="o">.</span>
<span class="n">To</span><span class="p">:</span> <span class="n">DM</span> <span class="n">service</span><span class="o">.</span>
<span class="n">When</span><span class="p">:</span> <span class="n">Event</span> <span class="n">notification</span> <span class="n">to</span> <span class="n">the</span> <span class="n">DM</span> <span class="n">when</span> <span class="n">the</span> <span class="n">devices</span> <span class="ow">is</span> <span class="n">disconnected</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">DeviceManagerEventRequest</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">Removal</span> <span class="n">deviceURI</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceManagerEventRequest</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">DeviceManagerEventResponse</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">Return</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">failureReason</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceManagerEventResponse</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>The device component of the removed device should be listening on the deviceURI until
the response is received. After the response is received it can close all sockets of this
device that not closed already by the application.</p>
<p><strong>Subscribe :</strong></p>
<p>Change the subscription to the device events: uses by the application to subscribe or
unsubscribe to the specific categories of the device events. Some events will be fired
only when capture is in progress.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">From</span><span class="p">:</span> <span class="n">Application</span><span class="o">.</span>
<span class="n">To</span><span class="p">:</span> <span class="n">VDM</span><span class="o">.</span>
<span class="n">When</span><span class="p">:</span> <span class="n">Subscription</span> <span class="n">to</span> <span class="n">the</span> <span class="n">device</span> <span class="n">event</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">DeviceCommandRequest</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">Subscribe</span><span class="o">&gt;</span>
		<span class="o">&lt;</span><span class="n">Event</span> <span class="n">eventCategory</span><span class="o">=</span><span class="s2">&quot;Detection&quot;</span> <span class="o">/&gt;</span>
		<span class="o">&lt;</span><span class="n">Event</span> <span class="n">eventCategory</span><span class="o">=</span><span class="s2">&quot;UserFeedback&quot;</span> <span class="o">/&gt;</span>
	<span class="o">&lt;/</span><span class="n">Subscribe</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceCommandRequest</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">DeviceCommandResponse</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">Return</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;1&quot;</span> <span class="n">failureReason</span><span class="o">=</span><span class="s2">&quot;0&quot;</span> <span class="o">/&gt;</span>
	<span class="o">&lt;</span><span class="n">State</span> <span class="n">detected</span><span class="o">=</span><span class="s2">&quot;False&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceCommandResponse</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Expected behaviour:</strong> change the list of subscribed events to the list in this command
request. The events to which the device was previously subscribed can be sent by the
RC1 MOSIP Biometric Capture Device API device until the response is sent. Any new events can only be fired after the response is
sent. If the command is subscribing for the notification to the change of state the
response should include the corresponding state at a time of response.
The following EventCategories are supported.</p>
<p>eventCategory Events Expected Notes
Detection Detection
UserFeedback UserFeedback</p>
<p><strong>Start Capture :</strong>
Starts the capture process, also subscribes to Capture Complete and optionally User
Feedback events.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">From</span><span class="p">:</span> <span class="n">Application</span><span class="o">.</span> 
<span class="n">To</span><span class="p">:</span> <span class="n">VDM</span><span class="o">.</span> 
<span class="n">When</span><span class="p">:</span> <span class="n">Used</span> <span class="k">for</span> <span class="n">auto</span> <span class="n">capture</span><span class="o">.</span>  
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">DeviceCommandRequest</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">StartCapture</span> <span class="n">biometricPosition</span><span class="o">=</span><span class="s2">&quot;Right Thumb &quot;</span>
		<span class="n">allowManualCapture</span><span class="o">=</span><span class="s2">&quot;True&quot;</span> <span class="p">[</span> <span class="n">videoFormatId</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="p">]</span> <span class="n">sampleFormatId</span><span class="o">=</span><span class="s2">&quot;1&quot;</span><span class="o">&gt;</span>
		<span class="p">[</span>
			<span class="o">&lt;</span><span class="n">MissingBiometrics</span><span class="o">&gt;</span>
				<span class="o">&lt;</span><span class="n">MissingBiometric</span> <span class="n">biometricPosition</span><span class="o">=</span><span class="s2">&quot;Left Middle &quot;</span> <span class="o">/&gt;</span>
			<span class="o">&lt;</span><span class="n">MissingBiometrics</span><span class="o">&gt;</span>
		<span class="p">]</span>
	<span class="o">&lt;/</span><span class="n">StartCapture</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceCommandRequest</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">DeviceCommandResponse</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">Return</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">failureReason</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="o">/&gt;</span>
	<span class="p">[</span>
		<span class="o">&lt;</span><span class="n">Video</span> <span class="n">videoURI</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="o">/&gt;</span>
	<span class="p">]</span>
<span class="o">&lt;/</span><span class="n">DeviceCommandResponse</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Expected behaviour:</strong> starts the capture process. Any capture related event can be sent
only after the response to the start capture event. MissingBiometrics is optional.
Attribute sampleFormatId is indicating the requested output sample format. Optional
attribute videoFormatId is indicating that the video stream is requested, and the desired
video format referred by videoFormatId in the Device Arrival VDM event in Capabilities/videoFormats/videoFormat.</p>
<p><strong>Force Capture :</strong>
Forces manual capture. Should not be issued when the capture is not started.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">From</span><span class="p">:</span> <span class="n">Application</span><span class="o">.</span> 
<span class="n">To</span><span class="p">:</span> <span class="n">VDM</span><span class="o">.</span> 
<span class="n">When</span><span class="p">:</span> <span class="n">Used</span> <span class="k">for</span> <span class="n">manual</span> <span class="n">capture</span><span class="o">.</span>  
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">DeviceCommandRequest</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">ForceCapture</span><span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceCommandRequest</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">DeviceCommandResponse</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">Return</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;1&quot;</span> <span class="n">failureReason</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceCommandResponse</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Expected behaviour: force manual capture, whether the automatic capture is on or off.
The capture complete event is sent right after the response to this event. If the capture
complete event comes before the response, it means the event resulted from the
automatic capture.</p>
<p><strong>Stop Capture :</strong>
Stops capture process. No capture complete event should come after the response to Stop Capture.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">From</span><span class="p">:</span> <span class="n">Application</span>
<span class="n">To</span><span class="p">:</span> <span class="n">VDM</span>
<span class="n">When</span><span class="p">:</span> <span class="n">To</span> <span class="n">stop</span> <span class="n">the</span> <span class="n">current</span> <span class="n">capture</span> <span class="n">process</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">DeviceCommandRequest</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">StopCapture</span><span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceCommandRequest</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">DeviceCommandResponse</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">Return</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;1&quot;</span> <span class="n">failureReason</span><span class="o">=</span><span class="s2">&quot;0&quot;</span><span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceCommandResponse</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>Capture Complete :</strong>
The event should be sent upon successful completion of the capture. The biometric
sample should be available until the response is received: as a result the device may
have to maintain multiple samples and make them available at the different URIs.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">From</span><span class="p">:</span>  <span class="n">VDM</span><span class="o">.</span>
<span class="n">To</span><span class="p">:</span> <span class="n">Application</span><span class="o">.</span>
<span class="n">When</span><span class="p">:</span> <span class="n">When</span> <span class="n">capture</span> <span class="n">event</span> <span class="n">completed</span> <span class="n">at</span> <span class="n">VDM</span><span class="p">,</span> <span class="n">it</span> <span class="n">sends</span> <span class="n">this</span> <span class="n">request</span> <span class="n">to</span> <span class="n">application</span><span class="o">.</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">DeviceEventRequest</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">CaptureComplete</span> <span class="n">sampleURI</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceCommandRequest</span><span class="o">&gt;</span>

<span class="o">&lt;</span><span class="n">DeviceEventResponse</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">Return</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">failureReason</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceCommandResponse</span><span class="o">&gt;</span>
</pre></div>
</div>
<p>Samples must be provided in the format indicated by <em>sampleFormatId</em> in the Start
Capture request.</p>
<p><strong>Detection :</strong>
Notifies of the change of the state whether the biometric is detected by the device
(for example if the finger is placed or removed from the reader).</p>
<p>From:  VDM.
To: Application.
when: Detects the device state changes.</p>
<p>Usage example: the application needs to capture one finger, followed by the other. The
application issues capture request, which completes. The now application needs to wait
for the finger removed event before issuing the next capture request, to make sure that
the same finger is not captured again immediately.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">DeviceCommandRequest</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">Detection</span> <span class="n">detected</span><span class="o">=</span><span class="s2">&quot;True&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceCommandRequest</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="n">DeviceCommandResponse</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">Return</span> <span class="n">value</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="n">failureReason</span><span class="o">=</span><span class="s2">&quot;&quot;</span> <span class="o">/&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceCommandResponse</span><span class="o">&gt;</span>
</pre></div>
</div>
<p><strong>User Feedback :</strong>
From: VDM.
To: Application.
When: Notify the application to change position of the finger and other messages.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>&lt;DeviceCommandRequest requestId=&quot;&quot;&gt;
	&lt;UserFeedback&gt;
		&lt;Message biometricPosition=&quot;Right Thumb &quot; action=&quot;Other&quot;
			description=&quot;Display this &quot; /&gt;
		&lt;!-- biometricPosition and description are optional --&gt;
	&lt;/UserFeedback&gt;
&lt;/DeviceCommandRequest&gt;

&lt;DeviceCommandResponse requestId=&quot;&quot;&gt;
	&lt;Return value=&quot;&quot; failureReason=&quot;&quot; /&gt;
&lt;/DeviceCommandResponse&gt;
</pre></div>
</div>
</div>
<div class="section" id="biometric-device-video-streaming-and-sample-api-methods">
<h2>6. Biometric Device Video Streaming and Sample API Methods<a class="headerlink" href="#biometric-device-video-streaming-and-sample-api-methods" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>The Video Stream will be retrieved using the binary protocol for sending video frames
(with the actual image data represented in ISO 19794-x) over the socket referenced by
videoURI using the pull model. The application will maintain pending Get Frame
requests for all the time that it can keep-up with the visualization.
The sample will be retrieved over the socket referenced by sampleURI, with the actual
image data represented in ISO 19794-x.
The requests and the responses are represented in ASN1 BER encoding. The rationale
in choosing BER encoding is to transfer the binary data in the self-descriptive extensible
data format with the reasonably low overhead.</p>
<p><strong>Get Frame :</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>	<span class="n">RequestMessage</span> <span class="p">::</span><span class="o">=</span> <span class="n">SEQUENCE</span> <span class="p">{</span>
		<span class="n">messageType</span> <span class="n">MessageType</span> <span class="p">::</span><span class="o">=</span> <span class="n">Request</span><span class="p">,</span>
		<span class="n">requestCode</span> <span class="n">RequestCode</span> <span class="p">::</span><span class="o">=</span> <span class="n">GetFrame</span><span class="p">,</span>
		<span class="n">requestId</span> <span class="n">OCTET</span> <span class="n">STRING</span>
	<span class="p">}</span>
	<span class="n">ResponseMessage</span> <span class="p">::</span><span class="o">=</span> <span class="n">SEQUENCE</span> <span class="p">{</span>
		<span class="n">messageType</span> <span class="n">MessageType</span> <span class="p">::</span><span class="o">=</span> <span class="n">Response</span><span class="p">,</span>
		<span class="n">requestId</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
		<span class="k">return</span> <span class="n">Return</span><span class="p">,</span>
		<span class="n">biometricSample</span> <span class="n">BiometricSample</span> <span class="n">OPTIONAL</span>
	<span class="p">}</span>
</pre></div>
</div>
<p><strong>Get Sample :</strong></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>	<span class="n">RequestMessage</span> <span class="p">::</span><span class="o">=</span> <span class="n">SEQUENCE</span> <span class="p">{</span>
		<span class="n">messageType</span> <span class="n">MessageType</span> <span class="p">::</span><span class="o">=</span> <span class="n">Request</span><span class="p">,</span>
		<span class="n">requestCode</span> <span class="n">RequestCode</span> <span class="p">::</span><span class="o">=</span> <span class="n">GetSample</span><span class="p">,</span>
		<span class="n">requestId</span> <span class="n">OCTET</span> <span class="n">STRING</span>
	<span class="p">}</span>
	<span class="n">ResponseMessage</span> <span class="p">::</span><span class="o">=</span> <span class="n">SEQUENCE</span> <span class="p">{</span>
		<span class="n">messageType</span> <span class="n">MessageType</span> <span class="p">::</span><span class="o">=</span> <span class="n">Response</span><span class="p">,</span>
		<span class="n">requestId</span> <span class="n">OCTET</span> <span class="n">STRING</span><span class="p">,</span>
		<span class="k">return</span> <span class="n">Return</span><span class="p">,</span>
		<span class="n">biometricSample</span> <span class="n">BiometricSample</span>
		<span class="n">OPTIONAL</span>
	<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="notes-and-clarrification">
<h2>7. Notes and Clarrification<a class="headerlink" href="#notes-and-clarrification" title="Permalink to this headline">¶</a></h2>
<p><strong>Biometric Device Video Streaming and Sample API Methods</strong></p>
<p><strong>Supporting IRIS Cameras :</strong>
<img alt="VDM Spec - IRIS capture detail" src="_images/vdm-spec-iris-table.png" /></p>
<p><strong>Device Arrival - IRIS Device :</strong>
The application needs to distinguish between the two types of the devices before
opening the device, to choose which device to open and to show the appropriate UI.
This information is provided in the Device Arrival event from the VDM.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">From</span><span class="p">:</span> <span class="n">VDM</span><span class="o">.</span>
<span class="n">To</span><span class="p">:</span> <span class="n">DM</span><span class="o">.</span>
<span class="n">When</span><span class="p">:</span> <span class="n">IRIS</span> <span class="n">device</span> <span class="n">connected</span> <span class="n">to</span> <span class="n">the</span> <span class="n">VDM</span><span class="o">.</span>

<span class="mf">1.</span> <span class="n">Iris</span> <span class="n">device</span> <span class="n">showing</span> <span class="n">video</span> <span class="n">of</span> <span class="n">the</span> <span class="n">portion</span> <span class="n">of</span> <span class="n">the</span> <span class="n">face</span> 
<span class="mf">2.</span> <span class="n">Iris</span> <span class="n">device</span> <span class="n">showing</span> <span class="n">two</span> <span class="n">videos</span> <span class="n">of</span> <span class="n">the</span> <span class="n">two</span> <span class="n">eyes</span> 
</pre></div>
</div>
<ol class="simple">
<li><p>Iris device showing video of the portion of the face</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">DeviceManagerEventRequest</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;999&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">Arrival</span> <span class="n">deviceURI</span><span class="o">=</span><span class="s2">&quot;localhost:1234&quot;</span> <span class="n">modality</span><span class="o">=</span><span class="s2">&quot;Two Iris &quot;</span>
		<span class="n">deviceMake</span><span class="o">=</span><span class="s2">&quot;LG&quot;</span> <span class="n">deviceModel</span><span class="o">=</span><span class="s2">&quot;iCAM TD100 &quot;</span> <span class="n">hardwareRev</span><span class="o">=</span><span class="s2">&quot;1.0.0&quot;</span>
		<span class="n">firmwareRev</span><span class="o">=</span><span class="s2">&quot;1.0.1&quot;</span> <span class="n">serialNumber</span><span class="o">=</span><span class="s2">&quot;ABC1234567&quot;</span><span class="o">&gt;</span>
		<span class="o">&lt;</span><span class="n">Capabilities</span> <span class="n">detection</span><span class="o">=</span><span class="s2">&quot;True&quot;</span> <span class="n">video</span><span class="o">=</span><span class="s2">&quot;True&quot;</span>
			<span class="n">autoCapture</span><span class="o">=</span><span class="s2">&quot;True&quot;</span> <span class="n">disableAutoCapture</span><span class="o">=</span><span class="s2">&quot;True&quot;</span> <span class="n">userFeedback</span><span class="o">=</span><span class="s2">&quot;True&quot;</span>
			<span class="n">graphicalFeedback</span><span class="o">=</span><span class="s2">&quot;True&quot;</span><span class="o">&gt;</span>
			<span class="o">&lt;</span><span class="n">VideoFormats</span><span class="o">&gt;</span>
				<span class="o">&lt;</span><span class="n">VideoFormat</span> <span class="n">videoFormatId</span><span class="o">=</span><span class="s2">&quot;1&quot;</span> <span class="n">modality</span><span class="o">=</span><span class="s2">&quot;Face Partial &quot;</span><span class="o">&gt;</span>
					<span class="o">&lt;</span><span class="n">FrameType</span> <span class="n">size</span><span class="o">=</span><span class="s2">&quot;640,240&quot;</span> <span class="n">pixelFormat</span><span class="o">=</span><span class="s2">&quot;RGB32&quot;</span>
						<span class="n">pixelResolution</span><span class="o">=</span><span class="s2">&quot;Unspecified&quot;</span> <span class="o">/&gt;</span>
				<span class="o">&lt;/</span><span class="n">VideoFormat</span><span class="o">&gt;</span>
			<span class="o">&lt;/</span><span class="n">VideoFormats</span><span class="o">&gt;</span>
			<span class="o">&lt;</span><span class="n">SampleFormats</span><span class="o">&gt;</span>
				<span class="o">&lt;</span><span class="n">SampleFormat</span> <span class="n">sampleFormatId</span><span class="o">=</span><span class="s2">&quot;1&quot;</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;ISO IEC 1</span>
					<span class="n">views</span><span class="o">=</span><span class="s2">&quot;2&quot;</span> <span class="n">size</span><span class="o">=</span><span class="s2">&quot;480,480&quot;</span> <span class="n">pixelResolution</span><span class="o">=</span><span class="s2">&quot;500ppi&quot;</span> <span class="o">/&gt;</span>
			<span class="o">&lt;/</span><span class="n">SampleFormats</span><span class="o">&gt;</span>
		<span class="o">&lt;/</span><span class="n">Capabilities</span><span class="o">&gt;</span>
	<span class="o">&lt;/</span><span class="n">Arrival</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceManagerEventRequest</span><span class="o">&gt;</span>
</pre></div>
</div>
<ol class="simple">
<li><p>Iris device showing two videos of the two eyes</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;</span><span class="n">DeviceManagerEventRequest</span> <span class="n">requestId</span><span class="o">=</span><span class="s2">&quot;999&quot;</span><span class="o">&gt;</span>
	<span class="o">&lt;</span><span class="n">Arrival</span> <span class="n">deviceURI</span><span class="o">=</span><span class="s2">&quot;localhost:1234&quot;</span> <span class="n">modality</span><span class="o">=</span><span class="s2">&quot;Two Iris &quot;</span>
		<span class="n">deviceMake</span><span class="o">=</span><span class="s2">&quot;Manufacturer Name &quot;</span> <span class="n">deviceModel</span><span class="o">=</span><span class="s2">&quot;I SCAN 2</span>
		<span class="n">hardwareRev</span><span class="o">=</span><span class="s2">&quot;1.0.0&quot;</span> <span class="n">firmwareRev</span><span class="o">=</span><span class="s2">&quot;1.0.1&quot;</span> <span class="n">serialNumber</span><span class="o">=</span><span class="s2">&quot;ABC1234567&quot;</span><span class="o">&gt;</span>
		<span class="o">&lt;</span><span class="n">Capabilities</span> <span class="n">detection</span><span class="o">=</span><span class="s2">&quot;True&quot;</span> <span class="n">video</span><span class="o">=</span><span class="s2">&quot;True&quot;</span>
			<span class="n">autoCapture</span><span class="o">=</span><span class="s2">&quot;True&quot;</span> <span class="n">disableAutoCapture</span><span class="o">=</span><span class="s2">&quot;True&quot;</span> <span class="n">userFeedback</span><span class="o">=</span><span class="s2">&quot;True&quot;</span>
			<span class="n">graphicalFeedback</span><span class="o">=</span><span class="s2">&quot;False&quot;</span><span class="o">&gt;</span>
			<span class="o">&lt;</span><span class="n">VideoFormats</span><span class="o">&gt;</span>
				<span class="o">&lt;</span><span class="n">VideoFormat</span> <span class="n">videoFormatId</span><span class="o">=</span><span class="s2">&quot;1&quot;</span> <span class="n">modality</span><span class="o">=</span><span class="s2">&quot;Two Iris &quot;</span><span class="o">&gt;</span>
					<span class="o">&lt;</span><span class="n">FrameType</span> <span class="n">biometricPosition</span><span class="o">=</span><span class="s2">&quot;Left Eye &quot;</span> <span class="n">size</span><span class="o">=</span><span class="s2">&quot;240,240&quot;</span>
						<span class="n">pixelFormat</span><span class="o">=</span><span class="s2">&quot;Gray8&quot;</span> <span class="n">pixelResolution</span><span class="o">=</span><span class="s2">&quot;250ppi&quot;</span> <span class="o">/&gt;</span>
					<span class="o">&lt;</span><span class="n">FrameType</span> <span class="n">biometricPosition</span><span class="o">=</span><span class="s2">&quot;Right Eye &quot;</span> <span class="n">size</span><span class="o">=</span><span class="s2">&quot;240,240&quot;</span>
						<span class="n">pixelFormat</span><span class="o">=</span><span class="s2">&quot;Gray8&quot;</span> <span class="n">pixelResolution</span><span class="o">=</span><span class="s2">&quot;250ppi&quot;</span> <span class="o">/&gt;</span>
				<span class="o">&lt;/</span><span class="n">VideoFormat</span><span class="o">&gt;</span>
			<span class="o">&lt;/</span><span class="n">VideoFormats</span><span class="o">&gt;</span>
			<span class="o">&lt;</span><span class="n">SampleFormats</span><span class="o">&gt;</span>
				<span class="o">&lt;</span><span class="n">SampleFormat</span> <span class="n">sampleFormatId</span><span class="o">=</span><span class="s2">&quot;1&quot;</span> <span class="nb">format</span><span class="o">=</span><span class="s2">&quot;ISO IEC 1</span>
					<span class="n">views</span><span class="o">=</span><span class="s2">&quot;2&quot;</span> <span class="n">size</span><span class="o">=</span><span class="s2">&quot;480,480&quot;</span> <span class="n">pixelResolution</span><span class="o">=</span><span class="s2">&quot;500ppi&quot;</span> <span class="o">/&gt;</span>
			<span class="o">&lt;/</span><span class="n">SampleFormats</span><span class="o">&gt;</span>
		<span class="o">&lt;/</span><span class="n">Capabilities</span><span class="o">&gt;</span>
	<span class="o">&lt;/</span><span class="n">Arrival</span><span class="o">&gt;</span>
<span class="o">&lt;/</span><span class="n">DeviceManagerEventRequest</span><span class="o">&gt;</span> 
</pre></div>
</div>
</div>
<div class="section" id="data-types-and-representation">
<h2>8. Data Types and Representation<a class="headerlink" href="#data-types-and-representation" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>The following table documents the various attributes specified in the XML, their data
types, and representation.</p>
<p><img alt="VDM Spec - Data type and rep" src="_images/vdm-spec-data-type.png" /></p>
</div>
<div class="section" id="return-codes">
<h2>9. Return Codes<a class="headerlink" href="#return-codes" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p><img alt="VDM Spec - return code" src="_images/vdm-spec-return-code.png" /></p>
</div>
<div class="section" id="biometric-modality-enumeration">
<h2>10. Biometric Modality Enumeration<a class="headerlink" href="#biometric-modality-enumeration" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>The following strings are used to enumerate the Biometric Modalities in this API.</p>
<ul class="simple">
<li><p>Face</p></li>
<li><p>Iris</p></li>
<li><p>Two Iris</p></li>
<li><p>FingerPrint</p></li>
<li><p>Fingerprint Slap</p></li>
</ul>
</div>
<div class="section" id="biometric-position-enumeration">
<h2>11. Biometric Position Enumeration<a class="headerlink" href="#biometric-position-enumeration" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>The following strings will be used for biometricPosition in the XML requests, events and responses.</p>
<ul class="simple">
<li><p>Unknown</p></li>
<li><p>Right Thumb</p></li>
<li><p>Right Index</p></li>
<li><p>Right Middle</p></li>
<li><p>Right Ring</p></li>
<li><p>Right Little</p></li>
<li><p>Left Thumb</p></li>
<li><p>Left Index</p></li>
<li><p>Left Middle</p></li>
<li><p>Left Ring</p></li>
<li><p>Left Little</p></li>
<li><p>Right Slap</p></li>
<li><p>Left Slap</p></li>
<li><p>Both Thumbs</p></li>
<li><p>Left Iris</p></li>
<li><p>Right Iris</p></li>
<li><p>Both Iris</p></li>
<li><p>Face</p></li>
</ul>
</div>
<div class="section" id="sampleformat-enumeration">
<h2>13. SampleFormat Enumeration<a class="headerlink" href="#sampleformat-enumeration" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>The following sampleFormats are supported.
• ISO IEC 19794-4 2005
• ISO IEC 19794-5 2005
• ISO IEC 19794-6 2005</p>
</div>
<div class="section" id="actionable-user-feedback">
<h2>14. Actionable User Feedback<a class="headerlink" href="#actionable-user-feedback" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p><img alt="VDM Spec - User Feedback" src="_images/vdm-spec-user-feedback.png" /></p>
</div>
<div class="section" id="security-considerations">
<h2>15. Security Considerations<a class="headerlink" href="#security-considerations" title="Permalink to this headline">¶</a></h2>
<hr class="docutils" />
<p>The MOSIP platform should have ability to validate that the data received at the client application is
indeed the same data captured by the device. The device should be able to sign the data using specific key
before transmitting to the client. The same data should be validated at application end using another key.
If not valid then it will be rejected. However this is not currently mandatory. It will be implemented by
the MOSIP at later.</p>
<p>Whenever the security feature is implemented, the required changes will be taken care at API end.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, mosip-team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>