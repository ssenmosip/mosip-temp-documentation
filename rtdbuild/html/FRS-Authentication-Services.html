

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="java" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="java" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Table Of Contents &mdash; MOSIP 0.9 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: white" >
          

          
            <a href="index.html" class="icon icon-home"> MOSIP
          

          
            
            <img src="_static/mosip-logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                0.9
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Overview</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Architecture.html">MOSIP Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="Architecture.html#architectural-principles">Architectural Principles</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Architecture.html#ecosystem-approach">Ecosystem approach</a></li>
<li class="toctree-l3"><a class="reference internal" href="Architecture.html#configurability">Configurability</a></li>
<li class="toctree-l3"><a class="reference internal" href="Architecture.html#extensibility">Extensibility</a></li>
<li class="toctree-l3"><a class="reference internal" href="Architecture.html#modularity">Modularity</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="Architecture.html#logical-architecture">Logical Architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="Architecture.html#data-architecture">Data Architecture</a><ul>
<li class="toctree-l3"><a class="reference internal" href="Architecture.html#open-source-and-vendor-neutral">Open Source and Vendor Neutral</a></li>
<li class="toctree-l3"><a class="reference internal" href="Architecture.html#multi-language">Multi-Language</a></li>
<li class="toctree-l3"><a class="reference internal" href="Architecture.html#high-performance">High Performance</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="Technology-Stack.html">Technology Stack</a></li>
<li class="toctree-l1"><a class="reference internal" href="MOSIP-Releases.html">Latest Release</a></li>
<li class="toctree-l1"><a class="reference internal" href="Roadmap.html">July 2019 to June 2020</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">MOSIP</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>Table Of Contents</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/FRS-Authentication-Services.md.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="table-of-contents">
<h1>Table Of Contents<a class="headerlink" href="#table-of-contents" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p><a class="reference external" href="#1-single-factor-authentication">1. Single factor Authentication</a></p>
<ul>
<li><p><a class="reference external" href="#11-biometric-authentication-">1.1 Biometric Authentication</a> <em>(IDA_FR_1.1)</em></p></li>
<li><p><a class="reference external" href="#12-demographic-authentication-">1.2 Demographic Authentication</a> <em>(IDA_FR_1.2)</em></p></li>
<li><p><a class="reference external" href="#13-otp-authentication-">1.3 OTP Authentication</a> <em>(IDA_FR_1.3)</em></p></li>
<li><p><a class="reference external" href="#14-common-features-for-all-authentication-types-">1.4 Common Features for all Authentication Types</a> <em>(IDA_FR_1.4)</em></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#2-multi-factor-authentication-wip-">2. Multi-factor Authentication (WIP)</a> <em>(IDA_FR_2)</em></p></li>
<li><p><a class="reference external" href="#3-offline-authentication">3. Offline Authentication</a></p>
<ul>
<li><p><a class="reference external" href="#31-qr-code-based-authentication-wip-">3.1 QR Code based Authentication (WIP)</a> <em>(IDA_FR_3.1)</em></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#4-kyc-service">4. KYC Service</a></p>
<ul>
<li><p><a class="reference external" href="#41-profile-sharing-based-on-policy-">4.1 Profile Sharing based on Policy</a> <em>(IDA_FR_4.1)</em></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#5-partners-authentication-and-authorisation">5. Partners Authentication and Authorisation</a></p>
<ul>
<li><p><a class="reference external" href="#51-misp-license-authentication-">5.1 MISP License Authentication</a> <em>(IDA_FR_5.1)</em></p></li>
<li><p><a class="reference external" href="#52-partner-policy-authentication-">5.2 Partner Policy Authentication</a> <em>(IDA_FR_5.2)</em></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#6-lockunlock-authentication-types-">6. Lock/Unlock Authentication Types</a></p>
<ul>
<li><p><a class="reference external" href="#61-lock-authentication-types">6.1 Lock Authentication Types</a></p></li>
<li><p><a class="reference external" href="#62-unlock-authentication-types">6.2 Unlock Authentication Types</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#7-authentication-device-support">7. Authentication Device Support</a></p>
<ul>
<li><p><a class="reference external" href="#71-registered-devices-and-open-devices-tbd-">7.1 Registered Devices and Open Devices TBD</a> <em>(IDA_FR_6.1)</em></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#list-of-configurable-parameters-and-processes-">List of Configurable Parameters and Processes</a></p></li>
<li><p><a class="reference external" href="#authentication-services-api-">Authentication Services API</a></p></li>
<li><p><a class="reference external" href="#process-view-">Process View</a></p></li>
</ul>
</div>
<div class="section" id="single-factor-authentication">
<h1>1. Single factor Authentication<a class="headerlink" href="#single-factor-authentication" title="Permalink to this headline">¶</a></h1>
<div class="section" id="biometric-authentication">
<h2>1.1 Biometric Authentication <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a><a class="headerlink" href="#biometric-authentication" title="Permalink to this headline">¶</a></h2>
<p><strong>A. MOSIP system can evaluate the Individual's photo match with the corresponding photo in the Auth server</strong></p>
<p>Upon receiving an authentication request, the system evaluates the Individual's photo match with the corresponding photo in the Auth server as per the following steps:</p>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p></li>
<li><p>The biometric data is sent in <a class="reference external" href="//en.wikipedia.org/wiki/Base64"><strong>Base-64 encoded format</strong></a></p></li>
<li><p>System validates if the time period between the current time stamp and the request time stamp is &lt;= time period. Refer to the features related to <a class="reference external" href="#a-validate-the-timestamp-of-the-authentication-request"><strong>time stamp validation</strong></a>.</p></li>
<li><p>System validates that total number of face record(s) should not exceed 1</p></li>
<li><p>The face record in the input parameter against the mapped UIN/VID of the individual in the auth database is matched. Refer to the features related to <a class="reference external" href="#c-map-vid-to-uin-of-the-individual-in-the-auth-database-so-that-the-individual-can-be-authenticated-"><strong>Map VID to UIN</strong></a>.</p></li>
<li><p>The system then generates a match score based on the level of the match of the face</p></li>
<li><p>1:1 mapping is performed by the SDK and match score is provided. The system then proceeds to execute compare against the face threshold.</p>
<ul class="simple">
<li><p>NOTE: Biometric Authentication match score generation is stubbed. The actual integration with SDK will be covered in forthcoming implementation.</p></li>
</ul>
</li>
<li><p>The system proceeds to send Notification SMS and Notification E-mail. Refer to features related to <a class="reference external" href="#e-trigger-sms-to-the-individuals-mobile-for-every-authentication-request"><strong>Trigger SMS</strong></a> and <a class="reference external" href="#f-trigger-e-mail-to-the-individuals-e-mail-id-for-every-authentication-request-"><strong>Trigger E-mail</strong></a>.</p></li>
<li><p>Alerts and warning messages for data type violation are sent as per data definition. Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#authentication-service-public"><strong>Biometric Authentication API</strong></a>
for more details.</p>
<p><strong>B. Authenticate the face of the Individual by comparing the match score of the photo against the threshold</strong></p>
<p>Upon receiving an authentication service request, the system authenticates the face of the Individual by comparing the match score of the photo against the threshold as per the following steps:</p>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p></li>
<li><p>The biometric data is sent in <a class="reference external" href="//en.wikipedia.org/wiki/Base64"><strong>Base-64 encoded format</strong></a>.</p></li>
<li><p>Validates if the time period between the current time stamp and the request time stamp is &lt;= time period (n - admin config). Refer to the features related to <a class="reference external" href="#a-validate-the-timestamp-of-the-authentication-request"><strong>time stamp validation</strong></a>.</p></li>
<li><p>The system retrieves the threshold level configured which is acceptable for a match and then validates if the match score is equal to greater than the threshold level and sets the status as 'Y' for authentication</p></li>
<li><p>Constructs the authentication response based on validation results</p></li>
<li><p>Integrates the response with the static token generated for the authentication request. Refer to features related to generate a <a class="reference external" href="#d-generate-a-static-token-id-for-each-mosip-authentication-request-to-facilitate-authentication-"><strong>Static Token</strong></a>.</p></li>
<li><p>The system proceeds to send Notification SMS and Notification E-mail. Refer to features related to <a class="reference external" href="#e-trigger-sms-to-the-individuals-mobile-for-every-authentication-request"><strong>Trigger SMS</strong></a> and <a class="reference external" href="#f-trigger-e-mail-to-the-individuals-e-mail-id-for-every-authentication-request-"><strong>Trigger E-mail</strong></a>.</p></li>
<li><p>Alerts and warning messages for data type violation are sent as per data definition. Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#authentication-service-public"><strong>Biometric Authentication API</strong></a>
for more details.</p>
<p><strong>C. Evaluate the Individual's fingerprints with the corresponding fingerprint in the Auth server</strong> <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a></p>
<p>Upon receiving an authentication request, the system evaluates the Individual's fingerprints with the corresponding fingerprint in the Auth server as per the following steps:</p>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p></li>
<li><p>The biometric is sent in <a class="reference external" href="//en.wikipedia.org/wiki/Base64"><strong>Base-64 encoded format</strong></a>.</p></li>
<li><p>The system then validated the following:</p>
<ul class="simple">
<li><p>Validates if the time period between the current time stamp and the request time stamp is &lt;= time period (n is an admin configuration). Refer to the features related to <a class="reference external" href="#a-validate-the-timestamp-of-the-authentication-request"><strong>time stamp validation</strong></a>.</p></li>
<li><p>Validates if duplicate fingers are used in input</p></li>
<li><p>Validates if total number of finger print records exceed 2</p></li>
</ul>
</li>
<li><p>The system then matches finger print records in the input parameter against the mapped UIN/VID of the individual in the auth database. Refer to the features related to <a class="reference external" href="#c-map-vid-to-uin-of-the-individual-in-the-auth-database-so-that-the-individual-can-be-authenticated-"><strong>Map VID to UIN</strong></a>.</p></li>
<li><p>The system then generates a match score based on the level of the match of the fingerprints and proceeds to execute compare against fingerprint threshold</p></li>
<li><p>The system proceeds to send Notification SMS and Notification E-mail. Refer to features related to <a class="reference external" href="#e-trigger-sms-to-the-individuals-mobile-for-every-authentication-request"><strong>Trigger SMS</strong></a> and <a class="reference external" href="#f-trigger-e-mail-to-the-individuals-e-mail-id-for-every-authentication-request-"><strong>Trigger E-mail</strong></a>.</p></li>
<li><p>Alerts and warning messages for data type violation are sent as per data definition. Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#authentication-service-public"><strong>Biometric Authentication API</strong></a>
for more details.</p>
<p><strong>D. Authenticate the fingerprints of the Individual by comparing the match score of the fingerprint against the threshold (BioAuthService)</strong></p>
<p>Upon receiving an authentication request, the system authenticates the fingerprints of the Individual by comparing the match score of the fingerprint against the threshold. The system can integrate with Fingerprint scanner and generate match score as per the following steps:</p>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p></li>
<li><p>The biometric is sent in <a class="reference external" href="//en.wikipedia.org/wiki/Base64"><strong>Base-64 encoded format</strong></a>.</p></li>
<li><p>Validates if the time period between the current time stamp and the request time stamp is &lt;= time period (n - admin config). Refer to the features related to <a class="reference external" href="#a-validate-the-timestamp-of-the-authentication-request"><strong>time stamp validation</strong></a>.</p></li>
<li><p>The system retrieves the threshold level configured which is acceptable for a match</p></li>
<li><p>The system then validates  if the match score is equal to greater than the threshold level and sends a response</p></li>
<li><p>Integrates the response with the static token generated for the authentication request. Refer to features related to generate a <a class="reference external" href="#d-generate-a-static-token-id-for-each-mosip-authentication-request-to-facilitate-authentication-"><strong>Static Token</strong></a>.</p></li>
<li><p>The system proceeds to send Notification SMS and Notification E-mail. Refer to features related to <a class="reference external" href="#e-trigger-sms-to-the-individuals-mobile-for-every-authentication-request"><strong>Trigger SMS</strong></a> and <a class="reference external" href="#f-trigger-e-mail-to-the-individuals-e-mail-id-for-every-authentication-request-"><strong>Trigger E-mail</strong></a>.</p></li>
<li><p>Alerts and warning messages for data type violation are sent as per data definition. Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#authentication-service-public"><strong>Biometric Authentication API</strong></a>
for more details.</p>
<p><strong>E. Support two-finger authentication so that the quality of incoming fingerprints is better</strong> <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a></p>
<p>Upon receiving an authentication request, the system supports two-finger authentication so that the quality of incoming fingerprints gets better as per the below process:</p>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p></li>
<li><p>The biometric is sent in <a class="reference external" href="//en.wikipedia.org/wiki/Base64"><strong>Base-64 encoded format</strong></a></p></li>
<li><p>The system validated the following:</p>
<ul class="simple">
<li><p>Validates if the time period between the current time stamp and the request time stamp is &lt;= time period (n is an admin configuration). Refer to the features related to <a class="reference external" href="#a-validate-the-timestamp-of-the-authentication-request"><strong>time stamp validation</strong></a>.</p></li>
<li><p>Validates if duplicate fingers are used in input, if duplicate encoded value is used in the input for fingers - updated logic</p></li>
<li><p>Validates if single finger print record contains more than one finger</p></li>
<li><p>Validates if total number of finger print records exceed 2</p></li>
</ul>
</li>
<li><p>The system then matches first finger print record in the input parameter against the mapped UIN/VID of the individual in the auth database. Refer to the features related to <a class="reference external" href="#c-map-vid-to-uin-of-the-individual-in-the-auth-database-so-that-the-individual-can-be-authenticated-"><strong>Map VID to UIN</strong></a>.</p></li>
<li><p>The system will integrate with BioAPI compositeMatch function logic which returns composite match score.</p>
<ul class="simple">
<li><p>NOTE: The logic of average or sum, etc. will be part of BioAPI implementation. The current stubbed implementation of BioAPI performs an average.</p></li>
</ul>
</li>
<li><p>The system retrieves the composite finger threshold configured which is acceptable for a match</p></li>
<li><p>The system validates if the composite match score is equal to greater than the composite finger threshold</p></li>
<li><p>Constructs the authentication response based on validation results</p></li>
<li><p>Integrates the response with the static token generated for the authentication request. Refer to features related to generate a <a class="reference external" href="#d-generate-a-static-token-id-for-each-mosip-authentication-request-to-facilitate-authentication-"><strong>Static Token</strong></a>.</p></li>
<li><p>The system proceeds to send Notification SMS and Notification E-mail. Refer to features related to <a class="reference external" href="#e-trigger-sms-to-the-individuals-mobile-for-every-authentication-request"><strong>Trigger SMS</strong></a> and <a class="reference external" href="#f-trigger-e-mail-to-the-individuals-e-mail-id-for-every-authentication-request-"><strong>Trigger E-mail</strong></a>.</p></li>
<li><p>Alerts and warning messages for data type violation are sent as per data definition. Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#authentication-service-public"><strong>Biometric Authentication API</strong></a> for more details.</p>
<p><strong>F. Evaluate the Individual's IRIS match with the corresponding IRIS in the Auth server</strong> <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a></p>
<p>Upon receiving an authentication request, the system evaluates the Individual's IRIS match with the corresponding IRIS in the Auth server as per the following steps:</p>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p></li>
<li><p>The biometric is sent in <a class="reference external" href="//en.wikipedia.org/wiki/Base64"><strong>Base-64 encoded format</strong></a></p></li>
<li><p>The system validated the following:</p>
<ul class="simple">
<li><p>Validates if the time period between the current time stamp and the request time stamp is &lt;= time period (n is an admin configuration). Refer to the features related to <a class="reference external" href="#a-validate-the-timestamp-of-the-authentication-request"><strong>time stamp validation</strong></a>.</p></li>
<li><p>Validates if duplicate irises are used in input</p></li>
<li><p>Validates if total number of Iris records exceeds 2</p></li>
<li><p>Validates if single iris record is present in the input</p></li>
<li><p>The system matches iris record in the input parameter against the mapped UIN/VID of the individual in the auth database. Refer to the features related to <a class="reference external" href="#c-map-vid-to-uin-of-the-individual-in-the-auth-database-so-that-the-individual-can-be-authenticated-"><strong>Map VID to UIN</strong></a>.</p></li>
</ul>
</li>
<li><p>The system then generates a match score based on the level of the match of the Irises. The SDK will provide the match score.</p>
<ul class="simple">
<li><p>NOTE: Biometric Authentication match score generation is stubbed. The actual integration with SDK will be covered in forthcoming implementation.</p></li>
</ul>
</li>
<li><p>The system validates if two iris records are present in the input</p></li>
<li><p>The system matches each of the iris records in the input parameter against the corresponding records of the mapped UIN/VID of the individual in the auth database and then generates a match score based on the level of the match of the Irises. Refer to the features related to <a class="reference external" href="#c-map-vid-to-uin-of-the-individual-in-the-auth-database-so-that-the-individual-can-be-authenticated-"><strong>Map VID to UIN</strong></a>.</p></li>
<li><p>Match score 1 and Match score 2 are generated for each images. The SDK provides the match score</p>
<ul class="simple">
<li><p>NOTE: Biometric Authentication match score generation is stubbed. The actual integration with SDK will be covered in forthcoming implementation.</p></li>
</ul>
</li>
<li><p>The system generates a composite match score by summing up the match scores for the first and the second iris Images</p></li>
<li><p>The system proceeds to execute compare against Iris threshold</p></li>
<li><p>The system proceeds to send Notification SMS and Notification E-mail. Refer to features related to <a class="reference external" href="#e-trigger-sms-to-the-individuals-mobile-for-every-authentication-request"><strong>Trigger SMS</strong></a> and <a class="reference external" href="#f-trigger-e-mail-to-the-individuals-e-mail-id-for-every-authentication-request-"><strong>Trigger E-mail</strong></a>.</p></li>
<li><p>Alerts and warning messages for data type violation are sent as per data definition. Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#authentication-service-public"><strong>Biometric Authentication API</strong></a> for more details.</p>
<p><strong>G. Authenticate the IRIS of the Individual by comparing the match score of the IRIS against the threshold</strong> <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a></p>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p></li>
<li><p>The system retrieves generated score match</p></li>
<li><p>The biometric is sent in <a class="reference external" href="//en.wikipedia.org/wiki/Base64"><strong>Base-64 encoded format</strong></a>.</p></li>
<li><p>Validates if the time period between the current time stamp and the request time stamp is &lt;= time period (n - admin config). Refer to the features related to <a class="reference external" href="#a-validate-the-timestamp-of-the-authentication-request"><strong>time stamp validation</strong></a>.</p></li>
<li><p>The system then validated the following:</p>
<ul class="simple">
<li><p>Validates if single iris records are present in the input</p></li>
<li><p>Retrieves the threshold level configured which is acceptable for a match</p></li>
<li><p>Validates if the match score is equal to greater than the threshold level</p></li>
<li><p>Validates if two iris records are present in the input</p></li>
<li><p>Retrieves the composite threshold level configured which is acceptable for a match</p></li>
<li><p>Validates if the composite match score is equal to greater than the composite threshold</p></li>
</ul>
</li>
<li><p>Constructs the authentication response based on validation results</p></li>
<li><p>The system proceeds to execute compare against Iris threshold</p></li>
<li><p>Integrates the response with the static token generated for the authentication request. Refer to features related to generate a <a class="reference external" href="#d-generate-a-static-token-id-for-each-mosip-authentication-request-to-facilitate-authentication-"><strong>Static Token</strong></a>.</p></li>
<li><p>The system proceeds to send Notification SMS and Notification E-mail. Refer to features related to <a class="reference external" href="#e-trigger-sms-to-the-individuals-mobile-for-every-authentication-request"><strong>Trigger SMS</strong></a> and <a class="reference external" href="#f-trigger-e-mail-to-the-individuals-e-mail-id-for-every-authentication-request-"><strong>Trigger E-mail</strong></a>.</p></li>
<li><p>Alerts and Warning messages for data type violation are sent as per data definition. Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a></p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#authentication-service-public"><strong>Biometric Authentication API</strong></a> for more details.</p>
<p><a class="reference external" href="/mosip/mosip-platform/blob/master/design/authentication/Bio_Auth_Request_REST_Service"><strong>Link to design</strong></a></p>
</div>
<div class="section" id="demographic-authentication">
<h2>1.2 Demographic Authentication <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a><a class="headerlink" href="#demographic-authentication" title="Permalink to this headline">¶</a></h2>
<p><strong>A. Strategy for Authentication</strong></p>
<p>MOSIP supports only exact match for the demographic authentication of the individual and does not perform any validations related to partial match and phonetics match. No error messages related to partial match and phonetics match are triggered.</p>
<p><strong>B. Demographic (Address) Authentication</strong></p>
<p>No weightage is provided to any field\s but exact match strategy is adopted for demographic address</p>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a>
in Git for more details on required parameters.</p></li>
<li><p>Upon receiving an authentication request the system validates if the time period between the current time stamp and the request time stamp is &lt;= time period (n - admin config). Refer to the features related to <a class="reference external" href="#a-validate-the-timestamp-of-the-authentication-request"><strong>time stamp validation</strong></a>.</p></li>
<li><p>The system validates if each of the address line items  in the input parameter is same as the address line items against the mapped UIN/VID of the individual in the auth database in the respective language for each address element. Refer to the features related to <a class="reference external" href="#c-map-vid-to-uin-of-the-individual-in-the-auth-database-so-that-the-individual-can-be-authenticated-"><strong>Map VID to UIN</strong></a>.</p></li>
<li><p>Constructs the authentication response based on validation results</p></li>
<li><p>Integrates the response with the static token generated for the authentication request. Refer to features related to generate a <a class="reference external" href="#d-generate-a-static-token-id-for-each-mosip-authentication-request-to-facilitate-authentication-"><strong>Static Token</strong></a>.</p></li>
<li><p>The system proceeds to send Notification SMS and Notification E-mail. Refer to features related to <a class="reference external" href="#e-trigger-sms-to-the-individuals-mobile-for-every-authentication-request"><strong>Trigger SMS</strong></a> and <a class="reference external" href="#f-trigger-e-mail-to-the-individuals-e-mail-id-for-every-authentication-request-"><strong>Trigger E-mail</strong></a>.
Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#authentication-service-public"><strong>Demographic Authentication API</strong></a> for more details.</p>
<p>NOTE:</p>
<ol class="simple">
<li><p>The address attributes are generalized as location 1, location 2 and location 3</p></li>
<li><p>The SI has to define and map the address specific attributes against addressLine2, addressLine3,  and location specific attributes against location1, location2, location3 of a country. For example: addrLine1 means House No, addrLine2 means Street No, and addrLine3 means Locality; similarly loc1 means Local Administrative Authority, loc2 means Province and loc3 means Region.</p></li>
</ol>
<p>Please refer Git for the address based <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%20FIT-4/Address%20Normalization%20BR.docx"><strong>Normalization Rules</strong></a></p>
<p><strong>C. Verify the Age of the individual so that the individual is authenticated</strong></p>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p></li>
<li><p>Upon receiving an authentication request the system validates if the time period between the current time stamp and the request time stamp is &lt;= time period (n - admin config). Refer to the features related to <a class="reference external" href="#a-validate-the-timestamp-of-the-authentication-request"><strong>time stamp validation</strong></a>.</p></li>
<li><p>The system retrieves the DOB of the individual in the auth database based on the mapped UIN/VID. Refer to the features related to <a class="reference external" href="#c-map-vid-to-uin-of-the-individual-in-the-auth-database-so-that-the-individual-can-be-authenticated-"><strong>Map VID to UIN</strong></a>.</p></li>
<li><p>The system calculates the age of the individual based on the DOB.</p></li>
<li><p>Validates if the Age of the individual is greater than or equal to the Age in the input parameter</p></li>
<li><p>Constructs the authentication response based on validation results</p></li>
<li><p>Integrates the response with the static token generated for the authentication request. Refer to features related to generate a <a class="reference external" href="#d-generate-a-static-token-id-for-each-mosip-authentication-request-to-facilitate-authentication-"><strong>Static Token</strong></a>.</p></li>
<li><p>The system proceeds to send Notification SMS and Notification E-mail. Refer to features related to <a class="reference external" href="#e-trigger-sms-to-the-individuals-mobile-for-every-authentication-request"><strong>Trigger SMS</strong></a> and <a class="reference external" href="#f-trigger-e-mail-to-the-individuals-e-mail-id-for-every-authentication-request-"><strong>Trigger E-mail</strong></a>.
Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#authentication-service-public"><strong>Demographic Authentication API</strong></a> for more details.</p>
<p><strong>D. Match Name of the individual in the database so that the individual is authenticated</strong></p>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p></li>
<li><p>Upon receiving an authentication request the system validates if the time period between the current time stamp and the request time stamp is &lt;= time period (n - admin config). Refer to the features related to <a class="reference external" href="#a-validate-the-timestamp-of-the-authentication-request"><strong>time stamp validation</strong></a>.</p></li>
<li><p>The system compares the name in the input parameter with the Name saved in the respective language in the auth database</p></li>
<li><p>Constructs the authentication response based on validation results</p></li>
<li><p>Integrates the response with the static token generated for the authentication request. Refer to features related to generate a <a class="reference external" href="#d-generate-a-static-token-id-for-each-mosip-authentication-request-to-facilitate-authentication-"><strong>Static Token</strong></a>.</p></li>
<li><p>The system proceeds to send Notification SMS and Notification E-mail. Refer to features related to <a class="reference external" href="#e-trigger-sms-to-the-individuals-mobile-for-every-authentication-request"><strong>Trigger SMS</strong></a> and <a class="reference external" href="#f-trigger-e-mail-to-the-individuals-e-mail-id-for-every-authentication-request-"><strong>Trigger E-mail</strong></a>.
Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a></p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#authentication-service-public"><strong>Demographic Authentication API</strong></a> for more details.</p>
<p><strong>E. Match phone number of the individual in the database so that the individual is authenticated</strong> <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a></p>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to  <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p></li>
<li><p>Upon receiving an authentication request the system validates if the time period between the current time stamp and the request time stamp is &lt;= time period (n - admin config). Refer to the features related to <a class="reference external" href="#a-validate-the-timestamp-of-the-authentication-request"><strong>time stamp validation</strong></a>.</p></li>
<li><p>The system matches the phone number in the input parameter with the phone number of the individual in the auth database based on the mapped UIN/VID. Refer to the features related to <a class="reference external" href="#c-map-vid-to-uin-of-the-individual-in-the-auth-database-so-that-the-individual-can-be-authenticated-"><strong>Map VID to UIN</strong></a>.</p></li>
<li><p>Constructs the authentication response based on validation results</p></li>
<li><p>Integrates the response with the static token generated for the authentication request. Refer to features related to generate a <a class="reference external" href="#d-generate-a-static-token-id-for-each-mosip-authentication-request-to-facilitate-authentication-"><strong>Static Token</strong></a>.</p></li>
<li><p>The system proceeds to send Notification SMS and Notification E-mail. Refer to features related to <a class="reference external" href="#e-trigger-sms-to-the-individuals-mobile-for-every-authentication-request"><strong>Trigger SMS</strong></a> and <a class="reference external" href="#f-trigger-e-mail-to-the-individuals-e-mail-id-for-every-authentication-request-"><strong>Trigger E-mail</strong></a>.
Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a></p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#authentication-service-public"><strong>Demographic Authentication API</strong></a> for more details.</p>
<p><strong>F. Match e-mail ID of the individual in the database so that the individual is authenticated</strong> <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a></p>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to  <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p></li>
<li><p>Upon receiving an authentication request the system validates if the time period between the current time stamp and the request time stamp is &lt;= time period (n - admin config). Refer to the features related to <a class="reference external" href="#a-validate-the-timestamp-of-the-authentication-request"><strong>time stamp validation</strong></a>.</p></li>
<li><p>The system matches the e-mail id in the input parameter with the phone number of the individual in the auth database based on the mapped UIN/VID. Refer to the features related to <a class="reference external" href="#c-map-vid-to-uin-of-the-individual-in-the-auth-database-so-that-the-individual-can-be-authenticated-"><strong>Map VID to UIN</strong></a>.</p></li>
<li><p>Constructs the authentication response based on validation results</p></li>
<li><p>Integrates the response with the static token generated for the authentication request. Refer to features related to generate a <a class="reference external" href="#d-generate-a-static-token-id-for-each-mosip-authentication-request-to-facilitate-authentication-"><strong>Static Token</strong></a>.</p></li>
<li><p>The system proceeds to send Notification SMS and Notification E-mail. Refer to features related to <a class="reference external" href="#e-trigger-sms-to-the-individuals-mobile-for-every-authentication-request"><strong>Trigger SMS</strong></a> and <a class="reference external" href="#f-trigger-e-mail-to-the-individuals-e-mail-id-for-every-authentication-request-"><strong>Trigger E-mail</strong></a>.
Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#authentication-service-public"><strong>Demographic Authentication API</strong></a> for more details.</p>
<p><strong>G. Match gender of the individual in the database so that the individual is authenticated</strong> <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a></p>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to  <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p></li>
<li><p>Upon receiving an authentication request the system validates if the time period between the current time stamp and the request time stamp is &lt;= time period (n - admin config). Refer to the features related to <a class="reference external" href="#a-validate-the-timestamp-of-the-authentication-request"><strong>time stamp validation</strong></a>.</p></li>
<li><p>The system matches the Gender in the input parameter with the Gender of the individual in the auth database based on the mapped UIN/VID. Refer to the features related to <a class="reference external" href="#c-map-vid-to-uin-of-the-individual-in-the-auth-database-so-that-the-individual-can-be-authenticated-"><strong>Map VID to UIN</strong></a>.</p></li>
<li><p>Constructs the authentication response based on validation results</p></li>
<li><p>Integrates the response with the static token generated for the authentication request. Refer to features related to generate a <a class="reference external" href="#d-generate-a-static-token-id-for-each-mosip-authentication-request-to-facilitate-authentication-"><strong>Static Token</strong></a>.</p></li>
<li><p>The system proceeds to send Notification SMS and Notification E-mail. Refer to features related to <a class="reference external" href="#e-trigger-sms-to-the-individuals-mobile-for-every-authentication-request"><strong>Trigger SMS</strong></a> and <a class="reference external" href="#f-trigger-e-mail-to-the-individuals-e-mail-id-for-every-authentication-request-"><strong>Trigger E-mail</strong></a>.
Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#authentication-service-public"><strong>Demographic Authentication API</strong></a> for more details.</p>
<p><strong>H. Match DOB of the individual in the database so that the individual is authenticated</strong></p>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to  <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p></li>
<li><p>Upon receiving an authentication request the system validates if the time period between the current time stamp and the request time stamp is &lt;= time period (n - admin config). Refer to the features related to <a class="reference external" href="#a-validate-the-timestamp-of-the-authentication-request"><strong>time stamp validation</strong></a>.</p></li>
<li><p>The system matches the DOB in the input parameter with the DOB of the individual in the auth database based on the mapped UIN/VID. Refer to the features related to <a class="reference external" href="#c-map-vid-to-uin-of-the-individual-in-the-auth-database-so-that-the-individual-can-be-authenticated-"><strong>Map VID to UIN</strong></a>.</p></li>
<li><p>Constructs the authentication response based on validation results</p></li>
<li><p>Integrates the response with the static token generated for the authentication request. Refer to features related to generate a <a class="reference external" href="#d-generate-a-static-token-id-for-each-mosip-authentication-request-to-facilitate-authentication-"><strong>Static Token</strong></a>.</p></li>
<li><p>The system proceeds to send Notification SMS and Notification E-mail. Refer to features related to <a class="reference external" href="#e-trigger-sms-to-the-individuals-mobile-for-every-authentication-request"><strong>Trigger SMS</strong></a> and <a class="reference external" href="#f-trigger-e-mail-to-the-individuals-e-mail-id-for-every-authentication-request-"><strong>Trigger E-mail</strong></a>.
Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#authentication-service-public"><strong>Demographic Authentication API</strong></a> for more details.</p>
<p><a class="reference external" href="/mosip/mosip-platform/blob/master/design/authentication/Demo_Auth_Request_REST_Service"><strong>Link to design</strong></a></p>
</div>
<div class="section" id="otp-authentication">
<h2>1.3 OTP Authentication <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a><a class="headerlink" href="#otp-authentication" title="Permalink to this headline">¶</a></h2>
<p><strong>A. Trigger OTP to an individual so that the individual can be authenticated based on OTP</strong></p>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to  <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p></li>
<li><p>Upon receiving an authentication request the system validates if the Timestamp of OTP generation request is older than 20 min. Refer to the features related to <a class="reference external" href="#a-validate-the-timestamp-of-the-authentication-request"><strong>time stamp validation</strong></a>.</p></li>
<li><p>The system generates the OTP for the request</p></li>
<li><p>Retrieves the mode of communication (i.e) e-mail or phone number configured for sending the OTP</p></li>
<li><p>The system validates if the configured mode of communication is also registered and triggers and OTP</p></li>
<li><p>Constructs the authentication response based on validation results with masked mobile and masked e-mail</p></li>
<li><p>The system proceeds to validate OTP as per the defined standards</p></li>
<li><p>The system proceeds to send Notification SMS and Notification E-mail. Refer to features related to <a class="reference external" href="#e-trigger-sms-to-the-individuals-mobile-for-every-authentication-request"><strong>Trigger SMS</strong></a> and <a class="reference external" href="#f-trigger-e-mail-to-the-individuals-e-mail-id-for-every-authentication-request-"><strong>Trigger E-mail</strong></a>.
Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#otp-request-service-public"><strong>OTP Authentication API</strong></a> for more details.</p>
<p><strong>B. Trigger SMS to the Individual's mobile for OTP Trigger request</strong> <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a></p>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p></li>
<li><p>The system retrieves the mode of communication (i.e) e-mail or phone number configured for sending the notification</p></li>
<li><p>Validates if the configured mode of communication is also registered</p></li>
<li><p>The system fetches the notification template as per admin configuration</p></li>
<li><p>Triggers notification as per the defined and configured template and in the default language English. Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#otp-request-service-public"><strong>OTP Authentication API</strong></a> for more details.</p>
<p><strong>C. Respond with masked e-mail and masked phone number for OTP trigger request</strong></p>
<p>The system follows the following steps to include masked e-mail and phone in the OTP request response</p>
<ol class="simple">
<li><p>Retrieves the mode to which OTP will be sent as per the below logic</p>
<ul class="simple">
<li><p>If the configured mode of communication is also registered sends OTP to the configured and registered mode</p></li>
<li><p>If the configured mode = e-mail and Registered Mode is Mobile; then sends OTP to Mobile</p></li>
<li><p>If the configured mode = phone and Registered Mode is e-mail; then sends OTP to e-mail</p></li>
<li><p>If registered mode is none, then send error code.</p></li>
</ul>
</li>
</ol>
<p>Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p>
<ol class="simple">
<li><p>If the communication mode = mobile</p></li>
<li><p>Mask the mobile no of the individual as per logic below and include the masked mobile in the OTP request response</p></li>
<li><p>If the communication mode = e-mail</p></li>
<li><p>Mask the e-mail of the individual as per the logic below and include the masked e-mail in the OTP request response</p></li>
<li><p>If the communication mode = mobile and e-mail</p></li>
<li><p>Mask both the mobile no and the email as per the logic below and include the both in the OTP request response</p></li>
</ol>
<p><strong>Logic for masking mobile</strong> <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a></p>
<ol class="simple">
<li><p>No of digits in the mobile number to be retrieved – say n</p></li>
<li><p>Mask first {(50% of the n digits) + 1} digits of the mobile number</p>
<ul class="simple">
<li><p>Note: 50% in case of decimal means rounded to the greatest whole number</p></li>
</ul>
</li>
</ol>
<p>Eg:</p>
<p>Original phone number: 8347899201</p>
<p>Masked phone number: XXXXXX9201</p>
<p><strong>Logic for masking e-mail</strong></p>
<ol class="simple">
<li><p>Consider the characters prior to the symbol ‘&#64;’</p></li>
<li><p>Assign a position to each character</p></li>
<li><p>Mask every alternate 2 characters starting from position 1</p></li>
</ol>
<p>Eg:</p>
<p><code class="docutils literal notranslate"><span class="pre">Original</span> <span class="pre">e-mail:</span> <span class="pre">umamahesh&#64;gmail.com</span></code></p>
<p><code class="docutils literal notranslate"><span class="pre">Masked</span> <span class="pre">e-mail:</span> <span class="pre">XXaXXhXXh&#64;gmail.com</span></code></p>
<p><strong>D. Trigger e-mail to the Individual's mail-ID for OTP Trigger request</strong></p>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p></li>
<li><p>The system then retrieves the mode of communication (i.e) e-mail or phone number configured for sending the notification</p></li>
<li><p>Validates if the configured mode of communication is also registered</p></li>
<li><p>Fetches the notification template as per admin configuration</p></li>
<li><p>Triggers notification as per the defined and configured template and in the default language English</p></li>
<li><p>Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#otp-request-service-public"><strong>OTP Authentication API</strong></a> for more details.</p>
<p><strong>E. Validate OTP provided by an Individual so that the individual can be authenticated based on OTP</strong></p>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p></li>
<li><p>Upon receiving an authentication request with required parameters a the system validates if the transaction id matches with transaction id value of OTP Generation Request</p></li>
<li><p>Validates if the time period between the current time stamp and the request time stamp is &lt;= time period (n - admin config). Refer to the features related to <a class="reference external" href="#a-validate-the-timestamp-of-the-authentication-request"><strong>time stamp validation</strong></a>.</p></li>
<li><p>Validates if the OTP in the input parameter is same as the OTP triggered for the individual to the registered phone number and/or e-mail</p></li>
<li><p>The system checks the validity of the OTP</p></li>
<li><p>Constructs the authentication response based on validation results</p></li>
<li><p>The system proceeds to send Notification SMS and Notification E-mail. Refer to features related to <a class="reference external" href="#e-trigger-sms-to-the-individuals-mobile-for-every-authentication-request"><strong>Trigger SMS</strong></a> and <a class="reference external" href="#f-trigger-e-mail-to-the-individuals-e-mail-id-for-every-authentication-request-"><strong>Trigger E-mail</strong></a>.
Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#otp-request-service-public"><strong>OTP Authentication API</strong></a> for more details.</p>
</div>
<div class="section" id="common-features-for-all-authentication-types">
<h2>1.4 Common Features for all Authentication Types <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a><a class="headerlink" href="#common-features-for-all-authentication-types" title="Permalink to this headline">¶</a></h2>
<div class="section" id="a-validate-the-timestamp-of-the-authentication-request">
<h3>A. Validate the timestamp of the authentication request<a class="headerlink" href="#a-validate-the-timestamp-of-the-authentication-request" title="Permalink to this headline">¶</a></h3>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p></li>
<li><p>The system then validates the following:</p>
<ul class="simple">
<li><p>Validates if the time period between the current time stamp and the request time stamp is &lt;= 20 min</p></li>
<li><p>Validates if the time period between the current time stamp and the request time stamp is &lt;= time period (n - admin config)---&gt; Default value-24 hrs</p></li>
<li><p>The system validates the mode of authentication as per the defined standards</p></li>
<li><p>Then triggers error messages as configured.</p></li>
</ul>
</li>
<li><p>MOSIP supports standard time for timestamps of authentication requests and responses</p>
<ul class="simple">
<li><p>The timestamp of the Authentication, e-KYC, OTP trigger requests and responses will support IS0-8601 standard.</p></li>
<li><p>The partners in a country are expected to send the timestamp  in the request in UTC with time zone</p></li>
<li><p>MOSIP returns the timestamp in the response in UTC with Time zone</p></li>
</ul>
</li>
</ol>
</div>
<div class="section" id="b-locate-the-uin-of-the-individual-in-the-auth-database-so-that-the-individual-can-be-authenticated">
<h3>B. Locate the UIN of the individual in the Auth database so that the individual can be authenticated<a class="headerlink" href="#b-locate-the-uin-of-the-individual-in-the-auth-database-so-that-the-individual-can-be-authenticated" title="Permalink to this headline">¶</a></h3>
<p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p>
<ol class="simple">
<li><p>The system matches the input UIN from the individual with the UIN in the auth database (Complete match) and sends an error message in case of any mismatch</p></li>
<li><p>Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p></li>
</ol>
</div>
<div class="section" id="c-map-vid-to-uin-of-the-individual-in-the-auth-database-so-that-the-individual-can-be-authenticated">
<h3>C. Map VID to UIN of the individual in the Auth database so that the individual can be authenticated <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a><a class="headerlink" href="#c-map-vid-to-uin-of-the-individual-in-the-auth-database-so-that-the-individual-can-be-authenticated" title="Permalink to this headline">¶</a></h3>
<p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p>
<ol class="simple">
<li><p>The system then validates if the VID is mapped to an UIN in the database and retrieve the UIN</p></li>
<li><p>The system proceeds to Match UIN as per defined standards</p></li>
<li><p>Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p></li>
</ol>
</div>
<div class="section" id="d-generate-a-static-token-id-for-each-mosip-authentication-request-to-facilitate-authentication">
<h3>D. Generate a static token ID for each MOSIP authentication request, to facilitate authentication <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a><a class="headerlink" href="#d-generate-a-static-token-id-for-each-mosip-authentication-request-to-facilitate-authentication" title="Permalink to this headline">¶</a></h3>
<p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p>
<p>The system then performs the following steps to generate a static token ID</p>
<p>The system retrieves the UIN and Partnerid   for token Id generation</p>
<ol class="simple">
<li><p>Generates tokenID based on the defined standards</p></li>
<li><p>The tokenID is unique for a UIN and partnerId combination. The same id should be returned if any auth request is received from the same UIN and partnerId combination</p></li>
<li><p>The tokenID is generated for every authentication request</p></li>
<li><p>The length of tokenID is configurable by the ADMIN (the default length of 36 digits)</p></li>
<li><p>The UIN and partnerid are not be derivable from the tokenId</p></li>
<li><p>The tokenID is a random number generated</p></li>
<li><p>The tokenId does not contain any alphanumeric characters and should contain only numeric characters</p></li>
<li><p>The number does not contain the restricted numbers defined by the ADMIN</p></li>
<li><p>The generated tokenid is integrated to the authentication response along with other parameters.</p>
<ul class="simple">
<li><p>Note: The Authentication is integrated for both successful and failure authentications (i.e) in all cases where authentication notifications are triggered.</p></li>
</ul>
</li>
<li><p>The system then captures and stores the transaction details for audit purpose.</p></li>
</ol>
</div>
<div class="section" id="e-trigger-sms-to-the-individual-s-mobile-for-every-authentication-request">
<h3>E. Trigger SMS to the Individual's mobile for every authentication request<a class="headerlink" href="#e-trigger-sms-to-the-individual-s-mobile-for-every-authentication-request" title="Permalink to this headline">¶</a></h3>
<p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p>
<p>The system then performs the following steps to Trigger SMS to the Individual's mobile for every authentication request</p>
<ol class="simple">
<li><p>Retrieves the mode of communication (i.e) mobile configured for sending the notification</p></li>
<li><p>Validates if the configured mode of communication is also registered</p></li>
<li><p>Fetches the notification template as per admin configuration and triggers notification as per the defined and configured template and in the default language English</p></li>
<li><p>Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p></li>
</ol>
</div>
<div class="section" id="f-trigger-e-mail-to-the-individual-s-e-mail-id-for-every-authentication-request">
<h3>F. Trigger e-mail to the Individual's e-mail ID for every authentication request <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a><a class="headerlink" href="#f-trigger-e-mail-to-the-individual-s-e-mail-id-for-every-authentication-request" title="Permalink to this headline">¶</a></h3>
<p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p>
<ol class="simple">
<li><p>The system retrieves the mode of communication (i.e) e-mail configured for sending the notification</p></li>
<li><p>The system validates if the configured mode of communication is also registered</p></li>
<li><p>Fetches the notification template as per admin configuration and triggers notification as per the defined and configured template and in the default language English</p></li>
<li><p>Please refer Git for more details on the type of <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Sprint%2010/Consolidated%20error%20messages%20V2.2.xlsx"><strong>error messages</strong></a>.</p></li>
</ol>
<p><a class="reference external" href="/mosip/mosip-platform/blob/master/design/authentication/OTP_Auth_Request_REST_Service"><strong>Link to design</strong></a></p>
<p><a class="reference external" href="/mosip/mosip-platform/blob/master/design/authentication/OTP_Request_REST_service"><strong>Link to design</strong></a></p>
</div>
</div>
</div>
<div class="section" id="multi-factor-authentication-wip">
<h1>2. Multi-factor Authentication (WIP) <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a><a class="headerlink" href="#multi-factor-authentication-wip" title="Permalink to this headline">¶</a></h1>
</div>
<div class="section" id="offline-authentication">
<h1>3. Offline Authentication<a class="headerlink" href="#offline-authentication" title="Permalink to this headline">¶</a></h1>
<div class="section" id="qr-code-based-authentication-wip">
<h2>3.1 QR Code based Authentication (WIP) <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a><a class="headerlink" href="#qr-code-based-authentication-wip" title="Permalink to this headline">¶</a></h2>
</div>
</div>
<div class="section" id="kyc-service">
<h1>4. KYC Service<a class="headerlink" href="#kyc-service" title="Permalink to this headline">¶</a></h1>
<div class="section" id="profile-sharing-based-on-policy">
<h2>4.1 Profile Sharing based on Policy <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a><a class="headerlink" href="#profile-sharing-based-on-policy" title="Permalink to this headline">¶</a></h2>
<p><strong>KYC Service is offered based on the individual’s consent using OTP or Biometric (Fingerprint/IRIS/Face) Authentication in the authentication request.</strong></p>
<p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p>
<p>The system then validates the following:</p>
<ol class="simple">
<li><p>Validates digital signature in the certificate</p></li>
<li><p>Validates the certificate</p></li>
<li><p>Validates if the partnerID belongs to a registered partner</p></li>
<li><p>Validates if the partner status is active</p></li>
<li><p>Retrieves the policy constituting for the partnerID and partner api key</p>
<ul class="simple">
<li><p>NOTE: (For points 3, 4 and 5) <strong>Partners Authentication and Authorisation</strong> is only a proxy implementation due to pending integration with Partner Management services.</p></li>
</ul>
</li>
<li><p>Validates if the auth type specified in the request is one of the policies retrieved.</p></li>
<li><p>Validates if the auth type specified in the request is one of the permissible auth types for e-KYC for the country as per the set configuration</p></li>
<li><p>Validates if the retrieved policy contains one e-KYC policy (the policy containing demographic attributes to be returned)</p></li>
<li><p>The system performs all the validation of the &quot;auth&quot; as per standards and encodes the auth response</p></li>
<li><p>Validate the status of the auth response and proceed only if the status is successful</p></li>
<li><p>The system proceeds to construct the e-KYC response element, which will be encoded and encrypted.</p></li>
<li><p>The system integrates the response with the static token generated for the authentication request</p></li>
<li><p>Constructs the authentication response based on validation results</p></li>
<li><p>Validate e-KYC permissions for e-KYC partner as per the e-KYC policies retrieved and identify the demo fields configured to be part of the response</p></li>
<li><p>Appends the response with the demographic and id fields as per the policy</p></li>
<li><p>The system validates the sec_language attribute in the request and appends the response with the demographic fields in language requested.</p></li>
<li><p>The system proceeds to send Notification SMS</p></li>
<li><p>Alerts and Warning messages for data type violation are sent as per <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a></p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#ekyc-service-public"><strong>eKYC API</strong></a> for more details.</p>
<p><a class="reference external" href="/mosip/mosip-platform/blob/master/design/authentication/eKYC_Auth_Request_REST_service"><strong>Link to design</strong></a></p>
</div>
</div>
<div class="section" id="partners-authentication-and-authorisation">
<h1>5. Partners Authentication and Authorisation<a class="headerlink" href="#partners-authentication-and-authorisation" title="Permalink to this headline">¶</a></h1>
<ul class="simple">
<li><p>NOTE: <strong>Partners Authentication and Authorisation</strong> is only a proxy implementation due to pending integration with Partner Management services</p></li>
</ul>
<div class="section" id="misp-license-authentication">
<h2>5.1 MISP License Authentication <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a><a class="headerlink" href="#misp-license-authentication" title="Permalink to this headline">¶</a></h2>
<p><strong>Authenticate and authorise the MOSIP Infrastructure Service Provider (MISP)</strong></p>
<p>MOSIP can authenticate and authorise the MOSIP Infrastructure Service Provider (MISP) as per the following steps listed below:</p>
<ol class="simple">
<li><p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p></li>
<li><p>Validates if the MISP-license key has not expired</p></li>
<li><p>Validates if the MISP-license key belongs to a registered MISP (Note: All the MISPs will be registered through MOSIP admin portal and the MISP-license key should belong to one of the registered MISP entities)</p></li>
<li><p>Validates if the MISP-license key status is active</p></li>
<li><p>Proceeds to execute e-KYC/Auth partner authentication and authorisation as per defined standards</p></li>
<li><p>Captures and stores the transaction details for audit purpose.</p></li>
<li><p>Alerts and warning messages for data type violation are sent as per <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a>.</p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#users-of-authentication-service--"><strong>Authentication Service API</strong></a> for more details.</p>
</div>
<div class="section" id="partner-policy-authentication">
<h2>5.2 Partner Policy Authentication <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a><a class="headerlink" href="#partner-policy-authentication" title="Permalink to this headline">¶</a></h2>
<p><strong>Authenticate and authorise Auth Partner- proxy implementation</strong></p>
<p>The authentication service request should have a defined set of parameters. Please refer to <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a> in Git for more details on required parameters.</p>
<p>The system then validates the following:</p>
<ol class="simple">
<li><p>Validates the digital signature in the certificate</p></li>
<li><p>Validates the certificate</p></li>
<li><p>Validates if the partnerID belongs to a registered partner</p></li>
<li><p>The system also validates if the partner status is active</p></li>
<li><p>Retrieves all the policies constituting the partnerID and partner api key</p></li>
<li><p>Validates if the auth type specified in the request is one of the policies retrieved for the partner</p></li>
<li><p>Validates if the time period between the current time stamp and the request time stamp is &lt;= time period (n - admin config)</p></li>
<li><p>Validates if the &quot;authvalue&quot; in the input parameter is same &quot;authval&quot; stored in the database for the mapped UIN and VID</p></li>
<li><p>The system constructs the authentication response based on validation results and sets the authentication status as 'Y' only if the pinval matches.</p></li>
<li><p>The system then integrates the response with the static token generated for the authentication request</p></li>
<li><p>Constructs the authentication response based on validation results</p></li>
<li><p>The system proceeds to send Notification SMS</p></li>
<li><p>Alerts and Warning messages for data type violation are sent as per <a class="reference external" href="_files/requirements/requirements_detailing_references/ID-Authentication/Data%20Definition.zip"><strong>data definition</strong></a></p></li>
</ol>
<p>Please refer to the <a class="reference external" href="ID-Authentication-APIs#users-of-authentication-service--"><strong>Authentication Service API</strong></a> for more details.</p>
</div>
</div>
<div class="section" id="lock-unlock-authentication-types">
<h1>6. Lock/Unlock Authentication Types <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a><a class="headerlink" href="#lock-unlock-authentication-types" title="Permalink to this headline">¶</a></h1>
<div class="section" id="lock-authentication-types">
<h2>6.1 Lock Authentication Types<a class="headerlink" href="#lock-authentication-types" title="Permalink to this headline">¶</a></h2>
<p>When an individual wants to lock a particular authentication type using resident services, for example, locking demographic and/or biometric authentication, the system locks the requested authentication type after certain validations. After the requested authentication type is locked for the individual, then he/she will not be able to authenticate himself/herself by using locked authentication type.</p>
</div>
<div class="section" id="unlock-authentication-types">
<h2>6.2 Unlock Authentication Types<a class="headerlink" href="#unlock-authentication-types" title="Permalink to this headline">¶</a></h2>
<p>When an individual’s particular authentication type is locked and wants to unlock using resident services, for example, unlocking demographic and/or biometric authentication, the system unlocks the requested authentication type after certain validations. After the requested authentication type is unlocked for the individual, then he/she will be able to authenticate himself/herself by using unlocked authentication type.</p>
</div>
</div>
<div class="section" id="authentication-device-support">
<h1>7. Authentication Device Support<a class="headerlink" href="#authentication-device-support" title="Permalink to this headline">¶</a></h1>
<div class="section" id="registered-devices-and-open-devices-tbd">
<h2>7.1 Registered Devices and Open Devices TBD <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a><a class="headerlink" href="#registered-devices-and-open-devices-tbd" title="Permalink to this headline">¶</a></h2>
<p>Technical story (Architects to contribute)</p>
<div class="section" id="list-of-configurable-parameters-and-processes">
<h3>List of Configurable Parameters and Processes <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a><a class="headerlink" href="#list-of-configurable-parameters-and-processes" title="Permalink to this headline">¶</a></h3>
<ol>
<li><p>Configurable Parameters</p>
<p><a class="reference external" href="/mosip/mosip-config/blob/master/config/id-authentication.properties"><strong>Link to Configurable Parameters of Authentication Services</strong></a></p>
</li>
<li><p>Configurable Processes</p></li>
</ol>
<ul class="simple">
<li><p>(Work in Progress)</p></li>
</ul>
</div>
<div class="section" id="authentication-services-api">
<h3>Authentication Services API <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a><a class="headerlink" href="#authentication-services-api" title="Permalink to this headline">¶</a></h3>
<p><a class="reference internal" href="ID-Authentication-APIs.html"><span class="doc">Refer to Wiki for more details on Authentication Services API</span></a></p>
</div>
<div class="section" id="process-view">
<h3>Process View <a class="reference external" href="#table-of-contents"><strong>[↑]</strong></a><a class="headerlink" href="#process-view" title="Permalink to this headline">¶</a></h3>
<p><a class="reference external" href="Process-view#4-id-authentication-"><strong>Link to Process View of Authentication Services</strong></a></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, mosip-team

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>